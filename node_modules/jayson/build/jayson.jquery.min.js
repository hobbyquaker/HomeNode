(function(c){function h(a,d,e){if("string"!==c.type(a))throw new TypeError(a+" must be a string");if(!d||!c.isPlainObject(d)&&!c.isArray(d))throw new TypeError(d+" must be an object or an array");a={jsonrpc:"2.0",params:d,method:a};a.id="undefined"===c.type(e)?Math.round(Math.random()*Math.pow(2,24)):e;return a}var b=function(a){if(!(this instanceof b))return new b(a);this.options=c.extend({dataType:"json",type:"POST",processData:!1,headers:{"content-type":"application/json"}},a||{})};window.Jayson=
b;b.prototype.request=function(a,d,e,b){var f=c.extend({},this.options,{error:function(a,d,e){b(c.makeArray(arguments))},success:function(a){b(null,a)}});try{var g=h(a,d,e);f.data=f.processData?g:JSON.stringify(g)}catch(i){return b(i)}c.ajax(f)};c.fn.jayson=function(a){a=a||{};(new b(a)).request(a.method,a.params,a.id,function(d,b){if(d){if(c.isFunction(a.error))return a.error.apply(a.error,d)}else c.isFunction(a.response)&&(2===a.response.length?b.error?a.response(b.error):a.response(null,b.result):
a.response(b))});return this};"function"===typeof define&&define("jayson",[],function(){return b})})(jQuery);
